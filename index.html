<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forever Store - اشتراكات الترفيه</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --main-red: #8B0000;
            --dark-red: #5D0000;
            --light-red: #A52A2A;
            --accent-red: #FF2400;
            --text-color: #FFFFFF;
            --light-bg: #1A0000;
            --dark-bg: #0D0000;
            --card-bg: #220000;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.4);
            --success-green: #2E8B57;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(to bottom, var(--dark-bg), var(--light-bg));
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Header Styles */
        header {
            background: linear-gradient(to right, var(--dark-red), var(--main-red));
            color: white;
            padding: 15px 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 28px;
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        
        .logo i {
            margin-right: 10px;
            color: var(--accent-red);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 20px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            padding: 5px 10px;
            border-radius: 4px;
        }
        
        nav ul li a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect x="0" y="0" width="100" height="100" fill="%238B0000"/><path d="M30,30 L70,30 L70,70 L30,70 Z" stroke="%23FF2400" stroke-width="5" fill="none"/><circle cx="50" cy="50" r="15" fill="%23FF2400"/></svg>');
            background-size: cover;
            height: 500px;
            display: flex;
            align-items: center;
            color: white;
            text-align: center;
            position: relative;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .hero-content h1 {
            font-size: 48px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            color: var(--accent-red);
        }
        
        .hero-content p {
            font-size: 20px;
            margin-bottom: 30px;
        }
        
        .hero-content .cta-btn {
            background-color: var(--accent-red);
            color: white;
            padding: 12px 24px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 18px;
            transition: background-color 0.3s;
        }
        
        .hero-content .cta-btn:hover {
            background-color: var(--dark-red);
        }
        
        /* Products Section */
        .products {
            padding: 50px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 40px;
            color: var(--accent-red);
            font-size: 32px;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background-color: var(--accent-red);
            margin: 10px auto;
        }

        .category-section {
            margin-bottom: 40px;
        }

        .category-title {
            font-size: 24px;
            color: var(--accent-red);
            margin-bottom: 20px;
            text-align: center;
            position: relative;
        }

        .category-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background-color: var(--main-red);
            margin: 10px auto;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }
        
        .product-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
            border: 1px solid var(--main-red);
            display: flex;
            flex-direction: column;
        }
        
        .product-card:hover {
            transform: translateY(-10px);
        }
        
        .product-image {
            height: 200px;
            overflow: hidden;
            background-color: var(--dark-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .product-image img {
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            transition: transform 0.5s;
        }
        
        .product-card:hover .product-image img {
            transform: scale(1.1);
        }
        
        .sold-out-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: var(--dark-red);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
            z-index: 2;
        }
        
        .product-info {
            padding: 20px;
            min-height: 180px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }
        
        .product-info h3 {
            margin-bottom: 10px;
            color: var(--accent-red);
        }
        
        .product-info p {
            font-size: 14px;
            margin-bottom: 15px;
            flex-grow: 1;
        }
        
        .product-price {
            font-size: 22px;
            font-weight: bold;
            color: var(--accent-red);
            margin: 10px 0;
        }
        
        .buy-btn {
            background-color: var(--accent-red);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            transition: background-color 0.3s;
            margin-top: auto;
        }

        .buy-btn[disabled] {
            background-color: #5D0000;
            color: #A52A2A;
            cursor: not-allowed;
        }
        
        .buy-btn:hover:not([disabled]) {
            background-color: var(--dark-red);
        }
        
        /* How It Works Section */
        .how-it-works {
            padding: 50px 0;
            background-color: var(--card-bg);
            border-top: 1px solid var(--main-red);
            border-bottom: 1px solid var(--main-red);
        }
        
        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .step {
            text-align: center;
            padding: 20px;
            background-color: var(--dark-bg);
            border-radius: 8px;
            border: 1px solid var(--main-red);
        }
        
        .step i {
            font-size: 40px;
            color: var(--accent-red);
            margin-bottom: 15px;
        }
        
        .step h3 {
            color: var(--accent-red);
            margin-bottom: 10px;
        }
        
        /* Social Media Section */
        .social-media {
            padding: 50px 0;
            text-align: center;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }
        
        .social-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: white;
            transition: all 0.3s;
            padding: 20px;
            border-radius: 8px;
            background-color: var(--dark-bg);
            width: 150px;
        }
        
        .social-link:hover {
            transform: translateY(-10px);
            background-color: var(--main-red);
        }
        
        .social-link i {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--accent-red);
        }
        
        .social-link span {
            font-weight: 500;
        }
        
        /* Payment Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            position: relative;
            border: 2px solid var(--accent-red);
        }
        
        .close-modal {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 24px;
            cursor: pointer;
            color: var(--accent-red);
        }
        
        .close-modal:hover {
            color: white;
        }
        
        .payment-details {
            margin: 20px 0;
            padding: 20px;
            background-color: var(--dark-bg);
            border-radius: 8px;
        }
        
        .payment-details h3 {
            color: var(--accent-red);
            margin-bottom: 15px;
        }
        
        .payment-info {
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .wallet-info {
            background-color: var(--dark-red);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-right: 4px solid var(--accent-red);
        }
        
        .wallet-info strong {
            color: var(--accent-red);
        }
        
        .payment-form input {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid var(--main-red);
            border-radius: 4px;
            background-color: var(--dark-bg);
            color: white;
        }
        
        .payment-form button {
            background-color: var(--accent-red);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .payment-form button:hover {
            background-color: var(--dark-red);
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: var(--success-green);
            color: white;
            padding: 15px 25px;
            border-radius: 4px;
            box-shadow: var(--shadow);
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
        }
        
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .toast i {
            font-size: 20px;
        }
        
        /* Loading Spinner */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Footer */
        footer {
            background: linear-gradient(to right, var(--dark-red), var(--main-red));
            color: white;
            padding: 40px 0 20px;
            text-align: center;
            margin-top: 50px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            font-size: 20px;
        }
        
        .footer-section p, .footer-section li {
            margin-bottom: 10px;
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section a {
            color: white;
            text-decoration: none;
        }
        
        .footer-section a:hover {
            text-decoration: underline;
        }
        
        .social-icons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }
        
        .social-icons a {
            display: inline-block;
            width: 40px;
            height: 40px;
            line-height: 40px;
            text-align: center;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: all 0.3s;
        }
        
        .social-icons a:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }
        
        .copyright {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                margin-top: 15px;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            nav ul li {
                margin: 5px;
            }
            
            .hero-content h1 {
                font-size: 36px;
            }
            
            .hero-content p {
                font-size: 18px;
            }
            
            .social-links {
                flex-direction: column;
                align-items: center;
            }
            
            .steps {
                grid-template-columns: 1fr;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }
        
        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .hero {
                height: 400px;
            }
            
            .hero-content h1 {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-crown"></i>
                    Forever Store
                </div>
                <nav>
                    <ul>
                        <li><a href="#home">الرئيسية</a></li>
                        <li><a href="#products">المنتجات</a></li>
                        <li><a href="#how-it-works">كيف يعمل</a></li>
                        <li><a href="#social">التواصل</a></li>
                        <li><a href="#contact">اتصل بنا</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Forever Store لخدمة المطفرين</h1>
                <p>أفضل الألعاب والاشتراكات بأرخص الأسعار</p>
                <a href="#products" class="cta-btn">اطلب الآن</a>
            </div>
        </div>
    </section>

    <section class="products" id="products">
        <div class="container">
            <h2 class="section-title">المنتجات المتوفرة</h2>

            <div class="category-section">
                <h3 class="category-title">الاشتراكات</h3>
                <div class="products-grid" id="subscriptionsGrid">
                    <!-- سيتم تعبئتها بالجافاسكريبت -->
                </div>
            </div>

            <div class="category-section">
                <h3 class="category-title">ألعاب ستيم (حسابات مشتركة)</h3>
                <div class="products-grid" id="productsGrid">
                    <!-- سيتم تعبئتها بالجافاسكريبت -->
                </div>
            </div>
        </div>
    </section>

    <section class="how-it-works" id="how-it-works">
        <div class="container">
            <h2 class="section-title">كيف يعمل</h2>
            <p style="text-align: center; margin-bottom: 30px;">استكشف خطوات بسيطة توضح لك كيف تتم عملية الشراء والتفعيل بكل سرعة وسهولة</p>
            <div class="steps">
                <div class="step">
                    <i class="fas fa-code"></i>
                    <h3>استلم الحساب بعد الدفع</h3>
                    <p>بمجرد إتمام الدفع، سيصلك الحساب مباشرة عبر الإنستغرام (@foreverstore.jo).</p>
                </div>
                <div class="step">
                    <i class="fas fa-cog"></i>
                    <h3>اتبع تعليمات التفعيل</h3>
                    <p>نوفر لك خطوات بسيطة لتفعيل الحساب على المنصة أو التطبيق (اللعب اوفلاين للألعاب).</p>
                </div>
                <div class="step">
                    <i class="fas fa-play"></i>
                    <h3>استمتع بالخدمة فورًا</h3>
                    <p>بعد التفعيل، استخدم اللعبة مباشرة دون تأخير.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="social-media" id="social">
        <div class="container">
            <h2 class="section-title">تواصل معنا</h2>
            <div class="social-links">
                <a href="https://www.instagram.com/foreverstore.jo/" target="_blank" class="social-link">
                    <i class="fab fa-instagram"></i>
                    <span>إنستغرام</span>
                </a>
                <a href="https://discord.gg/SjK67aExfX" target="_blank" class="social-link">
                    <i class="fab fa-discord"></i>
                    <span>ديسكورد</span>
                </a>
            </div>
        </div>
    </section>

    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2>إتمام عملية الشراء</h2>
            
            <div class="payment-details">
                <h3>تفاصيل الطلب</h3>
                <p id="selectedProduct">المنتج: </p>
                <p id="selectedPrice">السعر: </p>
            </div>
            
            <div class="wallet-info">
                <h3>التحويل إلى أورنج موني</h3>
                <p class="payment-info">رقم المحفظة: <strong>+962785039924</strong></p>
                <p>اسم صاحب المحفظة: <strong>محمد هنديه</strong></p>
                <p style="font-size: 14px; color: var(--light-red); margin-top: 10px;">التسليم عبر الإنستغرام (@foreverstore.jo) بعد التحقق</p>
            </div>
            
            <form class="payment-form">
                <input type="text" id="customerName" placeholder="اسمك بالكامل" required>
                <input type="text" id="walletName" placeholder="اسم صاحب المحفظة المحول منها" required>
                <input type="text" id="transactionId" placeholder="رقم المعاملة (إن وجد)">
                <button type="button" onclick="completePayment()" id="paymentButton">
                    <span id="paymentButtonText">تأكيد عملية الشراء</span>
                </button>
            </form>
        </div>
    </div>

    <div class="toast" id="successToast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage">تم إرسال طلبك بنجاح!</span>
    </div>

    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>عن Forever Store</h3>
                    <p>متجرنا متخصص في بيع الألعاب والاشتراكات بأسعار منافسة. التسليم عبر الإنستغرام لضمان السرعة والأمان.</p>
                </div>
                
                <div class="footer-section">
                    <h3>طرق الدفع</h3>
                    <p>الدفع عبر تحويل الأموال إلى محفظة أورنج موني</p>
                    <p>رقم المحفظة: +962785039924</p>
                    <p>اسم صاحب المحفظة: <strong>محمد هنديه</strong></p>
                    <p>رقم المحفظة واسم صاحبها ضمان لثقتكم، حيث يتطلب إنشاء محفظة أورنج موني تقديم هوية رسمية.</p>
                </div>
                
                <div class="footer-section">
                    <h3>اتصل بنا</h3>
                    <p>للاستفسارات والدعم الفني:</p>
                    <p>هاتف: +962785039924</p>
                    <p>التسليم والدعم عبر الإنستغرام: @foreverstore.jo</p>
                    <div class="social-icons">
                        <a href="https://www.instagram.com/foreverstore.jo/" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="https://discord.gg/SjK67aExfX" target="_blank"><i class="fab fa-discord"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p>جميع الحقوق محفوظة &copy; 2025 Forever Store</p>
            </div>
        </div>
    </footer>

    <script>
        // بيانات المنتجات (الاشتراكات والألعاب المحدثة)
        let products = [
            // --- الاشتراكات (الجديدة) ---
            {
                id: 101,
                name: "Netflix (شهر)",
                description: "نفذت الكمية حالياً. حساب مشترك.",
                price: 1.50, 
                image: "https://image.api.playstation.com/vulcan/ap/rnd/202302/2314/03b2283a0050212a792d405d40c11516a5b671c6f5051161.png", 
                category: "subscription",
                soldOut: true
            },
            {
                id: 102,
                name: "Crunchyroll (شهر)",
                description: "الحساب مشترك الخطة ميغا فان بدون وجع رأس الاعلانات والسيرفرات.",
                price: 3, 
                image: "https://image.api.playstation.com/vulcan/ap/rnd/202311/0815/be4e3f4e1f776d54203a3036b13e16104c3e803d6d06d4e2.png", 
                category: "subscription",
                soldOut: false
            },
            {
                id: 103,
                name: "Crunchyroll (3 شهور)",
                description: "الحساب مشترك الخطة ميغا فان بدون وجع رأس الاعلانات والسيرفرات.",
                price: 5, 
                image: "https://image.api.playstation.com/vulcan/ap/rnd/202311/0815/be4e3f4e1f776d54203a3036b13e16104c3e803d6d06d4e2.png", 
                category: "subscription",
                soldOut: false
            },
            {
                id: 104,
                name: "Crunchyroll (سنة)",
                description: "الحساب مشترك الخطة ميغا فان بدون وجع رأس الاعلانات والسيرفرات.",
                price: 8, 
                image: "https://image.api.playstation.com/vulcan/ap/rnd/202311/0815/be4e3f4e1f776d54203a3036b13e16104c3e803d6d06d4e2.png", 
                category: "subscription",
                soldOut: false
            },

            // --- ألعاب ستيم (الألعاب الأصلية) ---
            {
                id: 1,
                name: "Elden Ring",
                description: "حساب ستيم مشترك (اوفلاين). تحفة العالم المفتوح من FromSoftware.",
                price: 2, 
                image: "https://image.api.playstation.com/vulcan/ap/rnd/202108/0410/0Jm1c6l2de3O0s8PAsjdf2Hi.png",
                category: "games",
                soldOut: false
            },
            {
                id: 2,
                name: "Dark Souls 3",
                description: "حساب ستيم مشترك (اوفلاين). اختبر مهاراتك في لعبة الآكشن-آر بي جي الصعبة.",
                price: 2, 
                image: "https://image.api.playstation.com/vulcan/img/rnd/202010/2614/8L9sFL1f0b0Q0kCi0rO8nCIR.png",
                category: "games",
                soldOut: false
            },
            {
                id: 3,
                name: "The Witcher 3: Wild Hunt",
                description: "حساب ستيم مشترك (اوفلاين). مغامرة جيرالت الأسطورية في عالم ضخم.",
                price: 2, 
                image: "https://image.api.playstation.com/vulcan/img/rnd/202010/2217/LsaRVlfP2s0R2o63bifkYI0W.png",
                category: "games",
                soldOut: false
            },
            {
                id: 4,
                name: "Dying Light 2",
                description: "حساب ستيم مشترك (اوفلاين). عالم مفتوح، باركور، وزومبي.",
                price: 2, 
                image: "https://image.api.playstation.com/vulcan/ap/rnd/202106/2911/iUPQC2fOk8tq6vK4nKuaS1dJ.png", 
                category: "games",
                soldOut: false
            },
            {
                id: 5,
                name: "Silent Hill f",
                description: "حساب ستيم مشترك (اوفلاين). الفصل الجديد من لعبة الرعب النفسي الشهيرة.",
                price: 2, 
                image: "https://image.api.playstation.com/vulcan/ap/rnd/202210/1821/x0m5Be0t90s5rec93c2kUf0M.png", 
                category: "games",
                soldOut: false
            },
            
            // --- ألعاب جديدة مشهورة وترند حالياً (2 دينار) ---
            {
                id: 6,
                name: "Dying Light: The Following - Enhanced Edition",
                description: "حساب ستيم مشترك (اوفلاين). النسخة المحسنة من Dying Light مع محتوى إضافي.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/239140/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 7,
                name: "Baldur's Gate 3",
                description: "حساب ستيم مشترك (اوفلاين). لعبة الأدوار الحائزة على جوائز من Larian Studios.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/1086940/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 8,
                name: "Cyberpunk 2077",
                description: "حساب ستيم مشترك (اوفلاين). مغامرة مستقبلية في مدينة Night City.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/1091500/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 9,
                name: "Red Dead Redemption 2",
                description: "حساب ستيم مشترك (اوفلاين). مغامرة الغرب الأمريكي من Rockstar Games.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/1174180/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 10,
                name: "God of War",
                description: "حساب ستيم مشترك (اوفلاين). رحلة كريتوس وأتريوس في عالم الأساطير الإسكندنافية.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/1593500/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 11,
                name: "Hogwarts Legacy",
                description: "حساب ستيم مشترك (اوفلاين). مغامرة في عالم هاري بوتر السحري.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/990080/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 12,
                name: "Resident Evil 4 Remake",
                description: "حساب ستيم مشترك (اوفلاين). إعادة تصنيع كلاسيكية الرعب.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/2050650/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 13,
                name: "Star Wars Jedi: Survivor",
                description: "حساب ستيم مشترك (اوفلاين). مغامرة جديدة في عالم Star Wars.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/1774580/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 14,
                name: "Call of Duty: Modern Warfare II",
                description: "حساب ستيم مشترك (اوفلاين). إعادة تصنيع لعبة الرماية الشهيرة.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/1938090/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 15,
                name: "Assassin's Creed Valhalla",
                description: "حساب ستيم مشترك (اوفلاين). مغامرة الفايكنج في إنجلترا.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/2208920/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 16,
                name: "Final Fantasy VII Remake",
                description: "حساب ستيم مشترك (اوفلاين). إعادة تصنيع كلاسيكية RPG.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/1462040/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 17,
                name: "The Last of Us Part I",
                description: "حساب ستيم مشترك (اوفلاين). رحلة جويل وإيلي في عالم ما بعد الانهيار.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/1888930/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 18,
                name: "Spider-Man Remastered",
                description: "حساب ستيم مشترك (اوفلاين). تجربة سبايدرمان الكلاسيكية على PC.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/1817070/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 19,
                name: "Dead Space Remake",
                description: "حساب ستيم مشترك (اوفلاين). إعادة تصنيع كلاسيكية الرعب في الفضاء.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/1693980/header.jpg", 
                category: "games",
                soldOut: false
            },
            {
                id: 20,
                name: "Forza Horizon 5",
                description: "حساب ستيم مشترك (اوفلاين). سباقات مفتوحة في المكسيك.",
                price: 2, 
                image: "https://cdn.cloudflare.steamstatic.com/steam/apps/1551360/header.jpg", 
                category: "games",
                soldOut: false
            }
        ];
        
        // تحميل البيانات من localStorage
        document.addEventListener('DOMContentLoaded', function() {
            const savedProducts = localStorage.getItem('foreverStoreProducts');
            if (savedProducts) {
                products = JSON.parse(savedProducts);
            } else {
                saveProducts();
            }
            renderProducts();
        });
        
        // عرض المنتجات (مُعدلة لدعم نفاذ الكمية)
        function renderProducts() {
            const productsGrid = document.getElementById('productsGrid');
            const subscriptionsGrid = document.getElementById('subscriptionsGrid'); 
            
            productsGrid.innerHTML = '';
            subscriptionsGrid.innerHTML = ''; 
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                
                // تحديد نص الزر وحالته (مفعل/معطل)
                const buttonText = product.soldOut ? 'نفذت الكمية' : 'اطلب الآن';
                const buttonDisabled = product.soldOut ? 'disabled' : '';

                productCard.innerHTML = `
                    <div class="product-image">
                        ${product.soldOut ? '<div class="sold-out-badge">نفذت الكمية</div>' : ''}
                        <img src="${product.image}" alt="${product.name}" onerror="this.src='https://via.placeholder.com/300x200?text=Image+Not+Found'">
                    </div>
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <p>${product.description}</p>
                        <div class="product-price">${product.price.toFixed(2)} دينار أردني</div>
                        <button class="buy-btn" onclick="openPayment(${product.id})" ${buttonDisabled}>
                            ${buttonText}
                        </button>
                    </div>
                `;
                
                // توزيع المنتج على القسم الصحيح
                if (product.category === 'games') {
                    productsGrid.appendChild(productCard);
                } else if (product.category === 'subscription') {
                    subscriptionsGrid.appendChild(productCard);
                }
            });
        }
        
        // فتح نموذج الدفع (يمنع الفتح إذا نفذت الكمية)
        function openPayment(productId) {
            const product = products.find(p => p.id === productId);
            if (product && !product.soldOut) {
                document.getElementById('selectedProduct').textContent = `المنتج: ${product.name}`;
                document.getElementById('selectedPrice').textContent = `السعر: ${product.price.toFixed(2)} دينار أردني`;
                document.getElementById('paymentModal').style.display = 'flex';
            }
        }
        
        // إغلاق النموذج
        function closeModal() {
            document.getElementById('paymentModal').style.display = 'none';
        }
        
        // إتمام عملية الدفع
        function completePayment() {
            const customerName = document.getElementById('customerName').value;
            const walletName = document.getElementById('walletName').value;
            const paymentButton = document.getElementById('paymentButton');
            const paymentButtonText = document.getElementById('paymentButtonText');
            
            if (!customerName || !walletName) {
                showToast('يرجى ملء جميع الحقول المطلوبة!', 'error');
                return;
            }
            
            // إظهار مؤشر التحميل
            paymentButton.disabled = true;
            paymentButtonText.innerHTML = '<span class="loading"></span> جاري المعالجة...';
            
            // محاكاة عملية المعالجة
            setTimeout(() => {
                const randomNumber = Math.floor(Math.random() * (99999 - 10000 + 1)) + 10000;
                
                // إعادة تعيين الزر
                paymentButton.disabled = false;
                paymentButtonText.textContent = 'تأكيد عملية الشراء';
                
                // إظهار رسالة النجاح
                showToast(`تم استلام طلبك بنجاح! رقم التحقق: ${randomNumber}`);
                
                // إغلاق النموذج
                document.getElementById('paymentModal').style.display = 'none';
                
                // إعادة تعيين النموذج
                document.getElementById('customerName').value = '';
                document.getElementById('walletName').value = '';
                document.getElementById('transactionId').value = '';
            }, 2000);
        }
        
        // إظهار رسالة نجاح
        function showToast(message, type = 'success') {
            const toast = document.getElementById('successToast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            
            if (type === 'error') {
                toast.style.backgroundColor = 'var(--main-red)';
            } else {
                toast.style.backgroundColor = 'var(--success-green)';
            }
            
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 5000);
        }
        
        // حفظ المنتجات
        function saveProducts() {
            localStorage.setItem('foreverStoreProducts', JSON.stringify(products));
        }
        
        // إغلاق النموذج عند النقر خارج
        window.onclick = function(event) {
            const modal = document.getElementById('paymentModal');
            if (event.target === modal) {
                closeModal();
            }
        };
    </script>
</body>
</html>
